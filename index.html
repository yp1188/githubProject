<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>æˆ‘ä»¬çš„å››å‘¨å¹´ â¤ï¸</title>

<style> 
* { margin:0; padding:0; box-sizing:border-box; }
body {
    font-family: "PingFang SC","Microsoft YaHei",sans-serif;
    height:100vh;
    background: linear-gradient(180deg,#0f2027,#203a43,#2c5364);
    color:white;
    overflow:hidden;
}

/* é¡µé¢å®¹å™¨ */
.page {
    position:absolute;
    width:100%;
    height:100%;
    display:none;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
    padding:20px;
}
.page.active { display:flex; }

/* çˆ±å¿ƒåŠ¨ç”» */
.heart {
    position:absolute;
    color:pink;
    font-size:20px;
    animation: floatUp 3s linear forwards;
}
@keyframes floatUp {
    from { transform:translateY(0); opacity:1; }
    to { transform:translateY(-200px); opacity:0; }
}

/* æŒ‰é’® */
.btn {
    margin-top:30px;
    padding:12px 30px;
    border-radius:30px;
    background:pink;
    color:#222;
    font-size:1.1rem;
}

/* æƒ…è¯ */
.quote {
    font-size:1.4rem;
    line-height:2.2rem;
    animation: fade 2s;
}

/* æ—¶é—´è½´ */
.timeline {
    width:100%;
    text-align:left;
}
.timeline p {
    margin:15px 0;
    padding-left:10px;
    border-left:3px solid pink;
}

/* çƒŸèŠ± */
canvas {
    position:fixed;
    top:0;
    left:0;
    pointer-events:none;
}
</style>
</head>

<body>

<!-- ğŸµ èƒŒæ™¯éŸ³ä¹ -->
<audio id="bgm" loop>
    <source src="./music/love.mp3" type="audio/mpeg">
</audio>

<!-- PAGE 1 å°é¢ -->
<div class="page active" id="page1">
    <h1>ğŸ’– å››å‘¨å¹´å¿«ä¹ ğŸ’–</h1>
    <p style="margin-top:20px;font-size:1.2rem;">
        Yan Pin & â¤ï¸ TA
    </p>
    <div class="btn" onclick="start()">ç‚¹å‡»å¼€å§‹</div>
</div>

<!-- PAGE 2 å€’è®¡æ—¶ -->
<div class="page" id="page2">
    <h2>æˆ‘ä»¬å·²ç»åœ¨ä¸€èµ·</h2>
    <h1 id="days" style="font-size:3rem;margin:20px 0;"></h1>
    <p>æ¯å¤©éƒ½æ›´çˆ±ä½ ä¸€ç‚¹</p>
</div>

<!-- PAGE 3 æƒ…è¯ -->
<div class="page" id="page3">
    <div class="quote" id="quote"></div>
</div>

<!-- PAGE 4 æ—¶é—´è½´ -->
<div class="page" id="page4">
    <h2>æˆ‘ä»¬çš„å›å¿† âœ¨</h2>
    <div class="timeline">
        <p>ğŸ“ 2021 Â· ç¬¬ä¸€æ¬¡ç‰µæ‰‹</p>
        <p>ğŸ“ 2022 Â· ç¬¬ä¸€æ¬¡æ—…è¡Œ</p>
        <p>ğŸ“ 2023 Â· ä¸€èµ·åº¦è¿‡ä½è°·</p>
        <p>ğŸ“ 2024 Â· å››å‘¨å¹´ â¤ï¸</p>
    </div>
</div>

<!-- PAGE 5 å½©è›‹ -->
<div class="page" id="page5">
    <h2>ç‚¹ä¸€ä¸‹çˆ±å¿ƒ ğŸ’—</h2>
    <div style="font-size:4rem;" onclick="egg()">â¤ï¸</div>
    <p id="eggText" style="margin-top:20px;"></p>
</div>

<!-- PAGE 6 æœ€ç»ˆå‘Šç™½ -->
<div class="page" id="page6">
    <h1 style="font-size:2.5rem;">æˆ‘çˆ±ä½ </h1>
    <p style="margin-top:20px;">ä¸æ­¢å››å¹´ï¼Œæ˜¯ä¸€è¾ˆå­</p>
</div>

<canvas id="fireworks"></canvas>

<script>
const pages = document.querySelectorAll(".page");
let index = 0;
const bgm = document.getElementById("bgm");

/* å¼€å§‹ */
function start(){
    bgm.play();
    next();
}

/* ç¿»é¡µ */
function next(){
    pages[index].classList.remove("active");
    index++;
    pages[index]?.classList.add("active");
}

/* å€’è®¡æ—¶ */
const startDate = new Date("2021-02-14");
const days = Math.floor((new Date() - startDate)/86400000);
document.getElementById("days").innerText = days + " å¤©";

/* æƒ…è¯è½®æ’­ */
const quotes = [
 "é‡è§ä½ ï¼Œæ˜¯æˆ‘è¿™è¾ˆå­æœ€å¹¸è¿çš„äº‹",
 "ä½ ä¸€ç¬‘ï¼Œæˆ‘çš„ä¸–ç•Œå°±äº®äº†",
 "æœªæ¥çš„æ¯ä¸€å¤©ï¼Œæˆ‘éƒ½æƒ³å’Œä½ ä¸€èµ·",
 "çˆ±ä½ ï¼Œä¸æ­¢ä»Šå¤©"
];
let q = 0;
setInterval(()=>{
    document.getElementById("quote").innerText = quotes[q];
    q = (q+1)%quotes.length;
},3000);

/* å½©è›‹ */
function egg(){
    document.getElementById("eggText").innerText =
      "ä½ æ˜¯æˆ‘ä¸€ç”Ÿåªçˆ±ä¸€æ¬¡çš„äºº â¤ï¸";
}

/* è‡ªåŠ¨ç¿»é¡µ */
setInterval(()=>{ if(index<5) next(); },6000);

/* çˆ±å¿ƒé£˜ */
setInterval(()=>{
    const h = document.createElement("div");
    h.className="heart";
    h.innerText="â¤ï¸";
    h.style.left=Math.random()*100+"vw";
    h.style.bottom="0";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),3000);
},500);

/* çƒŸèŠ± */
const c = document.getElementById("fireworks");
const ctx = c.getContext("2d");
c.width=innerWidth; c.height=innerHeight;
function fire(){
    ctx.clearRect(0,0,c.width,c.height);
    for(let i=0;i<50;i++){
        ctx.fillStyle="pink";
        ctx.beginPath();
        ctx.arc(Math.random()*c.width,Math.random()*c.height,2,0,Math.PI*2);
        ctx.fill();
    }
}
setInterval(()=>{ if(index===5) fire(); },200);
</script>

</body>
</html>
